# 应用授权

**[喵福禄][喵福禄]** REST API 采用 [OAuth 2.0][OAuth 2.0] 中的 `Access Token` 来验证请求的合法性。我们使用的授权方式是 [OAuth 2.0 Client Credentials Grant][OAuth 2.0 Client Credentials Grant]。

在您开始使用 **[喵福禄][喵福禄]** 的 REST API 之前，需要先用您的 APP ID 和 APP secret 换取 `Access Token` 。如果您还没有这些信息，可以参考 [快速开始指南][快速开始] 来获取。

以下是一个使用 cURL 换取 Access Token 的示例，希望能为您提供帮助：

当然，您也可以使用任何您熟悉和喜欢的编程语言来调用喵福禄的 OAuth API 换取 Access Token

```bash
curl -X POST "https://api.meowflow.com.cn/open/v1/authentication/token" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials&client_id=YOUR_APP_ID&client_secret=YOUR_APP_SECRET"
```

需要替换代码

1. `YOUR_APP_ID`：替换为您的 APP ID
2. `YOUR_APP_SECRET`：替换为您的 APP secret

如果一切顺利， **[喵福禄][喵福禄]** 会返回 `Access Token` 及其相关信息，如有效期和授权范围等。以下是一个响应示例:

```json
{
  "code": 0,
  "message": "OK",
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjU4NzM0NzQsInN1YiI6IjE1MjA2Njg0MDM0NzA2MjI3MyIsImFwcElkIjoiMTUyMDY2ODQwMzQ3MDYyMjc1Iiwic2NvcGVzIjpbIndvcmtmbG93VGFzay5jcmVhdGUiLCJ3b3JrZmxvd1Rhc2sucmVhZCJdfQ.lMNLQCDfCE24f8FT3ixzDvB7rFtGLkC9wtBYyRF7IF8",
    "token_type": "Bearer",
    "expires_in": 7199,
    "scope": "workflowTask.write workflowTask.read",
    "app_id": "152066840347062275"
  }
}
```

在调用 **[喵福禄][喵福禄]** REST API 时，请您在授权标头中包含 `Access Token`，格式为：`-H Authorization: Bearer <ACCESS_TOKEN>`。

当您的 `Access Token` 过期时，您需要再次调用 `/open/v1/authentication/token` 来换取新的 `Access Token` 。


> 温馨提示：
>
> 为了保证系统的稳定性和安全性， **[喵福禄][喵福禄]** 限制了同一时间段内有效的 `Access Token` 数量不可超过 10 个。如果超过这个限制，您可能会收到 `429 Too Many Requests` 错误。
> 您可以参考我们的 [API 速率限制#关于获取 Access Token 的特别说明](./5.rate-limit.md#关于获取-access-token-的特别说明) 文档来了解更多详情。

<!--

TODO:: 修正所有文档中的链接，使其指向正确的页面

-->

[快速开始]: ./1.quick-start.md#快速开始    "快速开始"

[喵福禄]: https://meowflow.com/    "喵福禄"

[OAuth 2.0]: https://oauth.net/2/    "OAuth 2.0"

[OAuth 2.0 Client Credentials Grant]: https://oauth.net/2/grant-types/client-credentials/    "OAuth 2.0 Client Credentials Grant"
